{"version":3,"sources":["component/Share/LockedFile.js"],"names":["LockedFileCompoment","props","handleChange","name","event","setState","target","value","submit","e","preventDefault","state","pwd","setPassowrd","query","URLSearchParams","location","search","get","classes","this","className","layout","card","avatar","aria-label","src","share","creator","key","title","nick","subheader","create_date","onSubmit","id","label","onChange","margin","type","autoFocus","fullWidth","color","actions","disableActionSpacing","onClick","continue","variant","disabled","loading","Component","LockedFile","connect","dispatch","toggleSnackbar","vertical","horizontal","msg","withStyles","theme","maxWidth","display","width","marginTop","marginLeft","spacing","marginRight","breakpoints","up","marginRottom","withRouter"],"mappings":"6TAsDMA,E,YACF,WAAYC,GAAQ,IAAD,uBACf,4CAAMA,KAQVC,aAAe,SAAAC,GAAI,OAAI,SAAAC,GACnB,EAAKC,SAAL,eAAiBF,EAAOC,EAAME,OAAOC,UAVtB,EAanBC,OAAS,SAAAC,GACLA,EAAEC,iBACqB,KAAnB,EAAKC,MAAMC,KAGf,EAAKX,MAAMY,YAAY,EAAKF,MAAMC,MAhBlC,IAAIE,EAAQ,IAAIC,gBAAgB,EAAKd,MAAMe,SAASC,QAFrC,OAGf,EAAKN,MAAQ,CACTC,IAAKE,EAAMI,IAAI,aAJJ,E,sEAqBT,IACEC,EAAYC,KAAKnB,MAAjBkB,QAER,OACI,yBAAKE,UAAWF,EAAQG,QACpB,kBAAC,IAAD,CAAMD,UAAWF,EAAQI,MACrB,kBAAC,IAAD,CACIC,OACI,kBAAC,IAAD,CACIC,aAAW,SACXC,IACI,uBAAuBN,KAAKnB,MAAM0B,MAAMC,QAAQC,IAAM,OAIlEC,MAAOV,KAAKnB,MAAM0B,MAAMC,QAAQG,KAAO,kCACvCC,UAAWZ,KAAKnB,MAAM0B,MAAMM,cAEhC,kBAAC,IAAD,MACA,kBAAC,IAAD,KACI,0BAAMC,SAAUd,KAAKZ,QACjB,kBAAC,IAAD,CACI2B,GAAG,MACHC,MAAM,uCACN7B,MAAOa,KAAKT,MAAMC,IAClByB,SAAUjB,KAAKlB,aAAa,OAC5BoC,OAAO,SACPC,KAAK,WACLC,WAAS,EACTC,WAAS,EACTC,MAAM,gBAIlB,kBAAC,IAAD,CACIrB,UAAWF,EAAQwB,QACnBC,sBAAoB,GAEpB,kBAAC,IAAD,CACIC,QAASzB,KAAKZ,OACdkC,MAAM,YACNrB,UAAWF,EAAQ2B,SACnBC,QAAQ,YACRC,SACuB,KAAnB5B,KAAKT,MAAMC,KAAcQ,KAAKnB,MAAMgD,SAN5C,uB,GA5DUC,aA8E5BC,EAAaC,aA1FK,SAAAzC,GACpB,MAAO,MAGgB,SAAA0C,GACvB,MAAO,CACHC,eAAgB,SAACC,EAAUC,EAAYC,EAAKf,GACxCW,EAASC,YAAeC,EAAUC,EAAYC,EAAKf,QAmF5CU,CAGjBM,aAtHa,SAAAC,GAAK,MAAK,CACrBpC,KAAM,CACFqC,SAAU,IACVtB,OAAQ,UAEZK,QAAS,CACLkB,QAAS,QAEbvC,OAAO,aACHwC,MAAO,OACPC,UAAW,QACXC,WAAYL,EAAMM,QAAQ,GAC1BC,YAAaP,EAAMM,QAAQ,IAC1BN,EAAMQ,YAAYC,GAAG,KAA0B,EAAnBT,EAAMM,QAAQ,IAAU,CACjDH,MAAO,KACPE,WAAY,OACZE,YAAa,SAGrBpB,SAAU,CACNkB,WAAY,OACZE,YAAa,OACbG,aAAc,WAgGpBX,CAAmBY,YAAWtE,KAEjBmD","file":"static/js/8.690fd632.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { toggleSnackbar } from \"../../actions\";\n\nimport {\n    withStyles,\n    Button,\n    Card,\n    Divider,\n    CardHeader,\n    CardContent,\n    CardActions,\n    TextField,\n    Avatar\n} from \"@material-ui/core\";\nimport { withRouter} from \"react-router\";\n\nconst styles = theme => ({\n    card: {\n        maxWidth: 400,\n        margin: \"0 auto\"\n    },\n    actions: {\n        display: \"flex\"\n    },\n    layout: {\n        width: \"auto\",\n        marginTop: \"110px\",\n        marginLeft: theme.spacing(3),\n        marginRight: theme.spacing(3),\n        [theme.breakpoints.up(1100 + theme.spacing(3) * 2)]: {\n            width: 1100,\n            marginLeft: \"auto\",\n            marginRight: \"auto\"\n        }\n    },\n    continue: {\n        marginLeft: \"auto\",\n        marginRight: \"10px\",\n        marginRottom: \"10px\"\n    }\n});\nconst mapStateToProps = state => {\n    return {};\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        toggleSnackbar: (vertical, horizontal, msg, color) => {\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color));\n        }\n    };\n};\n\nclass LockedFileCompoment extends Component {\n    constructor(props) {\n        super(props);\n        let query = new URLSearchParams(this.props.location.search);\n        this.state = {\n            pwd: query.get(\"password\"),\n        };\n\n    }\n\n    handleChange = name => event => {\n        this.setState({ [name]: event.target.value });\n    };\n\n    submit = e => {\n        e.preventDefault();\n        if (this.state.pwd === \"\") {\n            return;\n        }\n        this.props.setPassowrd(this.state.pwd);\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <div className={classes.layout}>\n                <Card className={classes.card}>\n                    <CardHeader\n                        avatar={\n                            <Avatar\n                                aria-label=\"Recipe\"\n                                src={\n                                    \"/api/v3/user/avatar/\"+this.props.share.creator.key + \"/l\"\n                                }\n                            />\n                        }\n                        title={this.props.share.creator.nick + \" 的加密分享\"}\n                        subheader={this.props.share.create_date}\n                    />\n                    <Divider />\n                    <CardContent>\n                        <form onSubmit={this.submit}>\n                            <TextField\n                                id=\"pwd\"\n                                label=\"输入分享密码\"\n                                value={this.state.pwd}\n                                onChange={this.handleChange(\"pwd\")}\n                                margin=\"normal\"\n                                type=\"password\"\n                                autoFocus\n                                fullWidth\n                                color=\"secondary\"\n                            />\n                        </form>\n                    </CardContent>\n                    <CardActions\n                        className={classes.actions}\n                        disableActionSpacing\n                    >\n                        <Button\n                            onClick={this.submit}\n                            color=\"secondary\"\n                            className={classes.continue}\n                            variant=\"contained\"\n                            disabled={\n                                this.state.pwd === \"\" || this.props.loading\n                            }\n                        >\n                            继续\n                        </Button>\n                    </CardActions>\n                </Card>\n            </div>\n        );\n    }\n}\n\nconst LockedFile = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(withRouter(LockedFileCompoment)));\n\nexport default LockedFile;\n"],"sourceRoot":""}